<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'/>
<script src='doc/common/blocks_utils.js'></script>
<link rel="stylesheet" type="text/css" href="doc/common/style.css">
<script src='doc/en-GB/footer.js'></script>
</head>
<body>
<h3 id="up">Read byte(s) I2C</h3>
<h4>Instructions</h4>
<div id='blocklyInstruction'></div>
<script>injectInstruction('i2c_read_byte','blocklyInstruction');</script>
<div id='blocklyInstruction1'></div>
<script>injectInstruction('i2c_read_bytes','blocklyInstruction1');</script>
<h4>Description</h4>
<p>This instruction is used by I2C Master to request data to a I2C slave at the indicated address. The instruction reading one single byte will return the data, while the instruction to read multiple bytes, data is stored in the provided array variable (the amount of data read depends on the array length). The size of 'byte' and 'char' is 1, the size of 'short int' is 2, the size of 'int' is 2, the size of 'long int' is 4, the size of 'float' is 4.</p>
<h4>Inputs</h4>
<ul>
<li>Variable: Array variable to store read data (only for the instruction reading several bytes).</li>
</ul>
<h4>Fields</h4>
<ul>
<li>Address: Address of I2C slave. Maximum address value is 127.</li>
</ul>
<h4>Output</h4>
Read data (only for the single byte read instruction).
<h4>Example</h4>
This example shows the capabilities of the I2C communication. It represents a distributed network of MCUs. One of them is the Master that requests infrared readings of two independent I2C slaves (addresses 20 and 21). Received data is scaled into a servo position value (upto 180º) and transmitted to a servo controller slave (address 10) which is in charge of moving the servos.
<p><small><b>Master Program</b></small></p>
<div class="button_wrapper">
<p><button align="center" class="button" style="cursor: pointer;" onClick="openFunction('doc/examples/demo_i2c_master.bly')">Open</button></p>
All changes will be lost!
</div>
<p><small><b>Slave 10 Program</b></small></p>
<div class="button_wrapper">
<p><button align="center" class="button" style="cursor: pointer;" onClick="openFunction('doc/examples/demo_i2c_slave_10.bly')">Open</button></p>
All changes will be lost!
</div>
<p><small><b>Slave 20 Program</b></small></p>
<div class="button_wrapper">
<p><button align="center" class="button" style="cursor: pointer;" onClick="openFunction('doc/examples/demo_i2c_slave_20.bly')">Open</button></p>
All changes will be lost!
</div>
<p><small><b>Slave 21 Program</b></small></p>
<div class="button_wrapper">
<p><button align="center" class="button" style="cursor: pointer;" onClick="openFunction('doc/examples/demo_i2c_slave_21.bly')">Open</button></p>
All changes will be lost!
</div>
<h5>Circuit</h5>
<image src="doc/circuits/example_i2c_bb.png" title="example_i2c_bb" alt="example_i2c_bb"></image>
<h5>Facilino Code</h5>
<p><small><b>Master Program</b></small></p>
<div id='example1'></div>
<script>injectExample('demo_i2c_master.bly','example1');</script>
<p><small><b>Slave 10 Program</b></small></p>
<div id='example2'></div>
<script>injectExample('demo_i2c_slave_10.bly','example2');</script>
<p><small><b>Slave 20 Program</b></small></p>
<div id='example3'></div>
<script>injectExample('demo_i2c_slave_20.bly','example3');</script>
<p><small><b>Slave 21 Program</b></small></p>
<div id='example4'></div>
<script>injectExample('demo_i2c_slave_21.bly','example4');</script>
<p id='footer'></p><script>document.getElementById('footer').innerHTML=footer;</script>
</body>
</html>