<xml xmlns="http://www.w3.org/1999/xhtml"><keywords_en-GB>spi,bus</keywords_en-GB><keywords_es-ES>spi,bus</keywords_es-ES><keywords_ca-ES>spi,bus</keywords_ca-ES><block type="controls_setupLoop" id="NAJC~;o^|nMqUdo)4uLG" x="10" y="10"><statement name="SETUP"><block type="inout_spi_begin" id="oz?p8+A[SAoY!0~xG!@k"><field name="ORDER">MSBFIRST</field><field name="MODE">SPI_MODE1</field><value name="BAUDRATE"><block type="math_number" id="QWnUD}?Vpkm*L;rG$cO2"><field name="NUM">400000</field></block></value><next><block type="procedures_callnoreturn" id="$A{zK,`2-+vQ}Md1zzJC"><mutation name="init_SPI"></mutation><field name="PROCEDURES">init_SPI</field><next><block type="inout_spi_end" id="HMh.rwzIwp!bbFk9+.4i"><next><block type="base_delay" id=";I~AIc]W#kHGd;Q`cSco"><value name="DELAY_TIME"><block type="math_number" id="XTdplFr^;{e_7TP|E!o4"><field name="NUM">100</field></block></value></block></next></block></next></block></next></block></statement><statement name="LOOP"><block type="inout_spi_begin" id="Auc2;vP*8=pYZ0{fw;a@"><field name="ORDER">MSBFIRST</field><field name="MODE">SPI_MODE1</field><value name="BAUDRATE"><block type="math_number" id="R2+*Ak^iP8SDn@dZHV`y"><field name="NUM">400000</field></block></value><next><block type="procedures_callnoreturn" id="y#$WCoF`@E}UQ%Al1kk2"><mutation name="write_SPI"><arg name="reg"></arg><arg name="data"></arg></mutation><field name="PROCEDURES">write_SPI</field><value name="ARG0"><block type="math_number" id="u!SZ,V)5TH/trwph*A!#"><field name="NUM">14</field></block></value><value name="ARG1"><block type="math_number" id="7/!ON#(#0[5MU@^Js*+%"><field name="NUM">10</field></block></value><next><block type="controls_if" id="B$$)uSg?=nTn;S,vGY+@"><value name="IF0"><block type="logic_compare" id=";}FY(QX1s4D7}4`ZP=u2"><field name="OP">EQ</field><value name="A"><block type="pin_digital" id="Cpv#pIdXk-SVORo|eht3"><field name="PIN">6</field></block></value><value name="B"><block type="inout_highlow" id="$e64LOfG@O2t,?jyF0Pw"><field name="BOOL">HIGH</field></block></value></block></value><statement name="DO0"><block type="serial_println" id="|oL(,-h1UKY7Yz}o=jS!"><value name="CONTENT"><block type="math_arithmetic" id="-*I!?r,!U(Eqp;LtU[)G"><field name="OP">DIVIDE</field><value name="A"><block type="math_to_number" id="TsU2cF?!X9O:PLP4t/H*"><field name="CAST">float</field><value name="VALUE"><block type="procedures_callreturn" id="LI@M:p9$$CrNfBGLmx4^"><mutation name="read_SPI"><arg name="reg"></arg></mutation><field name="PROCEDURES">read_SPI</field><value name="ARG0"><block type="math_number" id="TnZ{cj_yVT{3B){,;B,L"><field name="NUM">132</field></block></value></block></value></block></value><value name="B"><block type="math_number" id="P2180mJZcBQk-a@da+}K"><field name="NUM">20</field></block></value></block></value></block></statement><next><block type="inout_spi_end" id="_c~V)^L$w:#rayt~%ZWH"></block></next></block></next></block></next></block></statement></block><block type="procedures_defnoreturn" id=":mckq]Kp0xzW+#P7L*7B" x="23" y="575"><field name="NAME">init_SPI</field><statement name="STACK"><block type="procedures_callnoreturn" id="$:}a(=@:[O/Nt6u;ey]k"><mutation name="write_SPI"><arg name="reg"></arg><arg name="data"></arg></mutation><field name="PROCEDURES">write_SPI</field><value name="ARG0"><block type="math_number" id="Ma/hf!BB.:*n=Ni@KU5O"><field name="NUM">10</field></block></value><value name="ARG1"><block type="math_number" id="Z(;!R9uQ}$x%cTm?=`;T"><field name="NUM">45</field></block></value><next><block type="procedures_callnoreturn" id="Q*J#*F(LKki4h]96`,[1"><mutation name="write_SPI"><arg name="reg"></arg><arg name="data"></arg></mutation><field name="PROCEDURES">write_SPI</field><value name="ARG0"><block type="math_number" id="3%z4OLDk~ey]e!mZ_(GB"><field name="NUM">6</field></block></value><value name="ARG1"><block type="math_number" id=":,X*YAYzUb2%pM$^`*l6"><field name="NUM">3</field></block></value><next><block type="procedures_callnoreturn" id="44`oefjRit}4fl.,r}PZ"><mutation name="write_SPI"><arg name="reg"></arg><arg name="data"></arg></mutation><field name="PROCEDURES">write_SPI</field><value name="ARG0"><block type="math_number" id="7{Z!fnV,D2N9w;iUDN.O"><field name="NUM">14</field></block></value><value name="ARG1"><block type="math_number" id="FOE`m[?irDc4E6%Y;Qn+"><field name="NUM">2</field></block></value><next><block type="base_delay" id="H?I;A}s2wK0yA7I;oLjQ"><value name="DELAY_TIME"><block type="math_number" id="kYdsDG|hq)=^r@sOzE}$"><field name="NUM">100</field></block></value></block></next></block></next></block></next></block></statement></block><block type="procedures_defnoreturn" id="-,CYl5V{O%Wsv_,A:f;J" x="24" y="898"><mutation><arg_name name="reg"></arg_name><arg_type name="int"></arg_type><arg_name name="data"></arg_name><arg_type name="int"></arg_type></mutation><field name="NAME">write_SPI</field><statement name="STACK"><block type="inout_digital_write" id="n]V_dMX6AcHa/pvr4Fm#"><value name="PIN"><block type="pin_digital" id="WG$z)6tR9zPKbF?bAuJx"><field name="PIN">7</field></block></value><value name="STAT"><block type="inout_highlow" id="gm$Xx%]|:)Wr?~4S~.@s"><field name="BOOL">LOW</field></block></value><next><block type="inout_spi_transfer" id="+8#!.eTC}BGX|mmg*zie"><field name="MODE">1</field><value name="DATA"><block type="variables_get" id="yY5BiXZ6`U@w8MRLteg!"><field name="VAR">reg</field></block></value><next><block type="inout_spi_transfer" id="alZDe.((ZjW$3n8cG:p."><field name="MODE">1</field><value name="DATA"><block type="variables_get" id="xDqIY)PR,+2t2~LHE}4T"><field name="VAR">data</field></block></value><next><block type="inout_digital_write" id="da/nh+{yCMzQG}H(*$x,"><value name="PIN"><block type="pin_digital" id="=86gpWALtPE);Om{Dj^C"><field name="PIN">7</field></block></value><value name="STAT"><block type="inout_highlow" id="EB~:J]3zTR,%:FNVZG4g"><field name="BOOL">HIGH</field></block></value></block></next></block></next></block></next></block></statement></block><block type="procedures_defreturn" id="QY^-ERp$?c#twdzh/%Go" x="26" y="1152"><mutation><arg_name name="reg"></arg_name><arg_type name="int"></arg_type></mutation><field name="NAME">read_SPI</field><statement name="STACK"><block type="inout_digital_write" id="/_q=[w]YJ-ZBUmWOw:2+"><value name="PIN"><block type="pin_digital" id="MgV!Z|lP(r_Jen1YZ6Bo"><field name="PIN">7</field></block></value><value name="STAT"><block type="inout_highlow" id="WKchR}m+z+~1FyI6p/t6"><field name="BOOL">LOW</field></block></value><next><block type="variables_local" id="k:1dkaB8{!BjDWdQuv[d"><field name="VAR">data</field><value name="VALUE"><block type="inout_spi_transfer_recv" id="g$H7s;QD6{Hdx^{3y1pj"><field name="MODE">2</field><value name="DATA"><block type="variables_get" id="blPwGs6EJ_T)D]sNU5VD"><field name="VAR">reg</field></block></value></block></value><next><block type="inout_digital_write" id="xuCrJG|7)S#e2KQ]dzC3"><value name="PIN"><block type="pin_digital" id="J0yvCP(hOcbNE6kMT)bu"><field name="PIN">7</field></block></value><value name="STAT"><block type="inout_highlow" id="cd/b_^0hHx*])x5%IP/,"><field name="BOOL">HIGH</field></block></value></block></next></block></next></block></statement><value name="RETURN"><block type="variables_get" id="+x2/Z[+T[PZJ4i9W?W(E"><field name="VAR">data</field></block></value></block></xml>