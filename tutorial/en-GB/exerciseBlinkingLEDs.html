<script>
window.FacilinoAdvanced=true;
</script>

<script src="facilino.js"></script>
<script src="facilino_common.js"></script>
<script src="facilino_serial.js"></script>
<script src="facilino_inout.js"></script>
<script src="facilino_logic.js"></script>
<script src="facilino_maths.js"></script>
<script src="facilino_text.js"></script>
<script src="facilino_controls.js"></script>
<script src="facilino_variables.js"></script>

<script>
Facilino.load({ zoom: 1});
FacilinoSerial.load({ zoom: 1});
FacilinoMaths.load({ zoom: 1});
FacilinoLogic.load({ zoom: 1});
FacilinoText.load({ zoom: 1});
FacilinoControls.load({ zoom: 1});
FacilinoInOut.load({ zoom: 1});
FacilinoVariables.load({ zoom: 1});
</script>

<section class="mbr-section content4 cid-qYh0wRA9Kt" id="content4-4z">
    <div class="container">
        <div class="media-container-row">
            <div class=" title col-12 col-md-8">
				<h2 class="align-center pb-3 mbr-fonts-style display-2"/>
				<h2 class="align-center pb-3 mbr-fonts-style display-2"/>
				<h2 class="align-center pb-3 mbr-fonts-style display-2"/>
				<div class="mbr-section-btn text-center"><a onclick="onExercises();" class="btn btn-primary display-4">&#8592;&nbsp;Back</a></div>
                <h2 class="align-center pb-3 mbr-fonts-style display-2">
                    Blinking LEDs</h2>
                <h3 class="mbr-section-subtitle align-center mbr-light mbr-fonts-style display-5">
                    Learn how to work with digital inputs and outputs with Facilino to make LEDs blink.</h3>

            </div>
        </div>
    </div>
</section>

<section class="mbr-section article content1 cid-qYh0wSDsTN" id="content2-51">
    <div class="container">
        <div class="media-container-row">
            <div class="mbr-text col-12 col-md-8 mbr-fonts-style display-7">
                <blockquote><strong>Required material. </strong><ul><li>An Arduino or ESP board, i.e.: <a onclick="onPageClicked('https://roboticafacil.es/en/prod/arduino-uno-r3/');" style="color:#1ec6c6" target="_blank">Arduino Uno</a>, <a onclick="onPageClicked('https://roboticafacil.es/en/prod/arduino-nano-v3-0-compatible/');" style="color:#1ec6c6" target="_blank">Arduino Nano</a>, <a style="color:#1ec6c6" target="_blank" onclick="onPageClicked('https://roboticafacil.es/prod/wemos-d1-r2/');">Wemos D1 R2</a> or <a style="color:#1ec6c6" target="_blank" onclick="onPageClicked('https://roboticafacil.es/en/prod/wemos-esp32-d1-r32/');">Wemos D1 R32</a>, <a onclick="onPageClicked('https://roboticafacil.es/prod/nodemcu-v3-esp8266-wifi/');" style="color:#1ec6c6" target="_blank">NodeMCU</a>, etc...</li><li>A <a onclick="onPageClicked('https://roboticafacil.es/en/prod/multisensor-shield/');" style="color:#1ec6c6" target="_blank">Multisensor shield</a> or two LEDs (red and blue connected to pins D12 and D13), a potentiometer connected to pin A0 and a <a style="color:#1ec6c6" target="_blank" onclick="onPageClicked('https://roboticafacil.es/en/prod/push-button-ky-004/');">pushbutton</a> connected to pin D2.</li></ul></blockquote>
            </div>
        </div>
    </div>
</section>

<section class="cid-qYh0wSah5G" id="image3-50">
    <figure class="mbr-figure container">
            <div class="mbr-text align-center mbr-fonts-style display-5">Multisensor</div>
            <div class="image-block mbr-fonts-style display-7" style="width: 50%;">
                <img id="schematic" src="tutorial/assets/images/Electronics/multisensor_wemosD1R32_bb.png" width="1400" alt="Multisensor" title=""></img>
            </div>
    </figure>
</section>

<section class="cid-qYh0wSah5G" id="image3-50">
    <figure class="mbr-figure container">
            <div class="mbr-text align-center mbr-fonts-style display-5">Modules</div>
            <div class="image-block mbr-fonts-style display-7" style="width: 50%;">
                <img id="schematic_modules" src="tutorial/assets/images/Electronics/multisensor_wemosD1R32_pot_LEDs_pushbutton_modules_bb.png" width="1400" alt="Modules" title=""></img>
            </div>
    </figure>
</section>

<section class="cid-qYh0wSah5G" id="image3-50">
    <figure class="mbr-figure container">
            <div class="mbr-text align-center mbr-fonts-style display-5">Protoboard</div>
            <div class="image-block mbr-fonts-style display-7" style="width: 50%;">
                <img id="schematic_proto" src="tutorial/assets/images/Electronics/multisensor_wemosD1R32_pot_LEDs_pushbutton_bb.png" width="1400" alt="Protoboard" title=""></img>
            </div>
    </figure>
</section>

<section class="mbr-section article content9 cid-qYh5KdWW4b" id="content9-5u">
    <div class="container">
        <div class="inner-container" style="width: 100%;">
            <hr class="line" style="width: 25%;">
            <div class="section-text align-center mbr-fonts-style display-5">
                    Worked instructions</div>
            <hr class="line" style="width: 25%;">
        </div>
        </div>
</section>

<!--<section class="mbr-section article content1 cid-qYh5PFH3xX" id="content1-5w">-->
<!-- <section class=""mbr-section article content1 cid-qYePlinsuB" id="content11-5w">
    <div class="container">
		<div class="media-container-row">
			<div class="mbr-text counter-container col-12 col-md-8 mbr-fonts-style display-7">
                <ol id="workedInstructions">
                    <li><div><span id='tooltipInstruction1'></span><button id="helpBtn1" type="button" onclick="myHelpFcn('inout_analog_read');" class="btn-primary display-4 popup"><span class="mbri-info mbr-iconfont mbr-iconfont-btn"></span></button></div><div id='blocklyInstruction1'></div><script>injectInstructionTooltip('inout_analog_read','blocklyInstruction1','tooltipInstruction1');</script></li>
					<li><div><span id='tooltipInstruction2'></span><button id="helpBtn2" type="button" onclick="myHelpFcn('pin_analog');" class="btn-primary display-4 popup"><span class="mbri-info mbr-iconfont mbr-iconfont-btn"></span></button></div><div id='blocklyInstruction2'></div><script>injectInstructionTooltip('pin_analog','blocklyInstruction2','tooltipInstruction2');</script></li>
					<li><div><span id='tooltipInstruction3'></span><button id="helpBtn3" type="button" onclick="myHelpFcn('inout_digital_read');" class="btn-primary display-4 popup"><span class="mbri-info mbr-iconfont mbr-iconfont-btn"></span></button></div><div  id='blocklyInstruction3'></div><script>injectInstructionTooltip('inout_digital_read','blocklyInstruction3','tooltipInstruction3');</script></li>
					<li><div><span id='tooltipInstruction4'></span><button id="helpBtn4" type="button" onclick="myHelpFcn('inout_digital_write');" class="btn-primary display-4 popup"><span class="mbri-info mbr-iconfont mbr-iconfont-btn"></span></button></div><div  id='blocklyInstruction4'></div><script>injectInstructionTooltip('inout_digital_write','blocklyInstruction4','tooltipInstruction4');</script></li>
					<li><div><span id='tooltipInstruction5'></span><button id="helpBtn5" type="button" onclick="myHelpFcn('inout_highlow');" class="btn-primary display-4 popup"><span class="mbri-info mbr-iconfont mbr-iconfont-btn"></span></button></div><div  id='blocklyInstruction5'></div><script>injectInstructionTooltip('inout_highlow','blocklyInstruction5','tooltipInstruction5');</script></li>
					<li><div><span id='tooltipInstruction6'></span><button id="helpBtn6" type="button" onclick="myHelpFcn('pin_digital');" class="btn-primary display-4 popup"><span class="mbri-info mbr-iconfont mbr-iconfont-btn"></span></button></div><div  id='blocklyInstruction6'></div><script>injectInstructionTooltip('pin_digital','blocklyInstruction6','tooltipInstruction6');</script></li>
					<li><div><span id='tooltipInstruction7'></span><button id="helpBtn7" type="button" onclick="myHelpFcn('pin_pwm');" class="btn-primary display-4 popup"><span class="mbri-info mbr-iconfont mbr-iconfont-btn"></span></button></div><div  id='blocklyInstruction7'></div><script>injectInstructionTooltip('pin_pwm','blocklyInstruction7','tooltipInstruction7');</script></li>
                </ol>
            </div>
		</div>
    </div>
</section>-->

<section class="mbr-section article content11 cid-qYh0wTJYr3" id="content11-5w">
    <div class="container">
		<div class="media-container-row">
			<div class="mbr-text counter-container col-12 col-md-8 mbr-fonts-style display-7">
                <ol id="workedInstructions">
					<li><div><span id='tooltipInstruction1'></span></div><div  id='blocklyInstruction1'></div><script>injectInstructionTooltip('inout_analog_read','blocklyInstruction1','tooltipInstruction1');</script></li>
					<li><div><span id='tooltipInstruction2'></span></div><div  id='blocklyInstruction2'></div><script>injectInstructionTooltip('pin_analog','blocklyInstruction2','tooltipInstruction2');</script></li>
					<li><div><span id='tooltipInstruction3'></span></div><div  id='blocklyInstruction3'></div><script>injectInstructionTooltip('inout_digital_read','blocklyInstruction3','tooltipInstruction3');</script></li>
					<li><div><span id='tooltipInstruction4'></span></div><div  id='blocklyInstruction4'></div><script>injectInstructionTooltip('inout_digital_write','blocklyInstruction4','tooltipInstruction4');</script></li>
					<li><div><span id='tooltipInstruction5'></span></div><div  id='blocklyInstruction5'></div><script>injectInstructionTooltip('inout_highlow','blocklyInstruction5','tooltipInstruction5');</script></li>
					<li><div><span id='tooltipInstruction6'></span></div><div  id='blocklyInstruction6'></div><script>injectInstructionTooltip('pin_digital','blocklyInstruction6','tooltipInstruction6');</script></li>
                </ol>
            </div>
		</div>
    </div>
</section>

<section class="mbr-section article content9 cid-qYh5KdWW4b">
    <div class="container">
        <div class="inner-container" style="width: 100%;">
            <hr class="line" style="width: 25%;">
            <div class="section-text align-center mbr-fonts-style display-5">
                    Additional instructions</div>
            <hr class="line" style="width: 25%;">
        </div>
        </div>
</section>

<section class="mbr-section article content11 cid-qYh0wTJYr3" id="content11-5w">
    <div class="container">
		<div class="media-container-row">
			<div class="mbr-text counter-container col-12 col-md-8 mbr-fonts-style display-7">
                <ol id="workedInstructions">
					<li><div><span id='tooltipInstruction7'></span></div><div  id='blocklyInstruction7'></div><script>injectInstructionTooltip('controls_if','blocklyInstruction7','tooltipInstruction7');</script></li>
					<li><div><span id='tooltipInstruction8'></span></div><div  id='blocklyInstruction8'></div><script>injectInstructionTooltip('base_delay','blocklyInstruction8','tooltipInstruction8');</script></li>
					<li><div><span id='tooltipInstruction9'></span></div><div  id='blocklyInstruction9'></div><script>injectInstructionTooltip('logic_compare','blocklyInstruction9','tooltipInstruction9');</script></li>
					<li><div><span id='tooltipInstruction10'></span></div><div  id='blocklyInstruction10'></div><script>injectInstructionTooltip('base_map','blocklyInstruction10','tooltipInstruction10');</script></li>
					<li><div><span id='tooltipInstruction11'></span></div><div  id='blocklyInstruction11'></div><script>injectInstructionTooltip('math_minmax','blocklyInstruction11','tooltipInstruction11');</script></li>
					<li><div><span id='tooltipInstruction12'></span></div><div  id='blocklyInstruction12'></div><script>injectInstructionTooltip('variables_global','blocklyInstruction12','tooltipInstruction12');</script></li>
					<li><div><span id='tooltipInstruction13'></span></div><div  id='blocklyInstruction13'></div><script>injectInstructionTooltip1('variables_get','blocklyInstruction13','tooltipInstruction13');</script></li>
					<li><div><span id='tooltipInstruction14'></span></div><div  id='blocklyInstruction14'></div><script>injectInstructionTooltip1('variables_set','blocklyInstruction14','tooltipInstruction14');</script></li>
				</ol>
            </div>
		</div>
    </div>
</section>

<section class="mbr-section article content9 cid-qYh0wTdIZC">
    <div class="container">
        <div class="inner-container" style="width: 100%;">
            <hr class="line" style="width: 25%;">
            <div class="section-text align-center mbr-fonts-style display-5">Basic Exercises</div>
            <hr class="line" style="width: 25%;">
        </div>
        </div>
</section>

<section class="mbr-section article content11 cid-qYh0wTJYr3" id="content11-53">
    <div class="container">
        <div class="media-container-row">
            <div class="mbr-text counter-container col-12 col-md-8 mbr-fonts-style display-7">
                <ol>
                    <li><strong>Set LED</strong><p>At start up, set the LED connected to pin D12 HIGH (yes, we know, this is not very impressive, but its the beginning).</p><strong>Hint: </strong><p><i>Use the 'DigitalWrite' instruction and set the state to HIGH.</i></p>
					<button  type="button" title="Facilino code" onclick="showHideElement('exercise1b');" class="btn-primary display-4"><span class="mbri-extension mbr-iconfont mbr-iconfont-btn"></span></button>
					<div><iframe id="exercise1b" style="display:block" frameBorder="0" src="" onload="resizeIFrameToFitContent(this);"></iframe></div>
					<iframe width="725" height="453" src="https://www.tinkercad.com/embed/5yp7yRRxRnY" frameborder="0" marginwidth="0" marginheight="0" scrolling="no"></iframe>
					</li>
					<li><strong>Read push-button</strong><p>In the main loop, print the value read from the digital pin D2 where the push-button is connected to.</p><strong>Hint: </strong><p><i>Use the 'DigitalRead' instruction and the resulting value print it with the 'Print Line' instruction (see <a onclick="onHomeFile('exerciseUSBSerial.html');" style="color:#1ec6c6">Exercise USB Serial</a>. You might need a 'Wait' instruction to avoid priting too much values.</i></p>
					<button  type="button" title="Facilino code" onclick="showHideElement('exercise2b');" class="btn-primary display-4"><span class="mbri-extension mbr-iconfont mbr-iconfont-btn"></span></button>
					<div><iframe id="exercise2b" style="display:block" frameBorder="0" src="" onload="resizeIFrameToFitContent(this);"></iframe></div>
					<iframe width="725" height="453" src="https://www.tinkercad.com/embed/4C9YSJxhZb9" frameborder="0" marginwidth="0" marginheight="0" scrolling="no"></iframe>
					</li>
					<li><strong>Set LED when not pushed</strong><p>When the push-button connected at pin D2 is pushed, set the red LED connected to pin D12 to LOW</p><strong>Hint: </strong><p><i>Use the 'DigitalRead' instruction to get the push-button state. If pushed, it should return LOW (otherwise returns HIGH), which means that we can use this value to set the LED state using the 'DigitalWrite' instruction.</i></p>
					<button  type="button" title="Facilino code" onclick="showHideElement('exercise3b');" class="btn-primary display-4"><span class="mbri-extension mbr-iconfont mbr-iconfont-btn"></span></button>
					<div><iframe id="exercise3b" style="display:block" frameBorder="0" src="" onload="resizeIFrameToFitContent(this);"></iframe></div>
					<iframe width="725" height="453" src="https://www.tinkercad.com/embed/cDACNxc5IKm" frameborder="0" marginwidth="0" marginheight="0" scrolling="no"></iframe>
					</li>
					<li><strong>Blinking LED</strong><p>Make the red LED connected to pin D12 blink at a frequency of 1Hz</p><strong>Hint: </strong><p><i>'DigitalWrite' instruction to set the LED HIGH, then wait 500ms and set the LED LOW and wait again 500ms.</i></p>
					<button  type="button" title="Facilino code" onclick="showHideElement('exercise4b');" class="btn-primary display-4"><span class="mbri-extension mbr-iconfont mbr-iconfont-btn"></span></button>
					<div><iframe id="exercise4b" style="display:block" frameBorder="0" src="" onload="resizeIFrameToFitContent(this);"></iframe></div>
					<iframe width="725" height="453" src="https://www.tinkercad.com/embed/2sEMGInhQTD" frameborder="0" marginwidth="0" marginheight="0" scrolling="no"></iframe>
					</li>
					<li><strong>Blinking LEDs</strong><p>Turn on and off red and blue LEDs connected to pins D12 (red) and 13 (blue) sequentially. When one LED is HIGH, the other LED must be LOW. The time delay between each sequence must be of 500ms.</p><strong>Hint: </strong><p><i>Repeat the sequence blue HIGH and red LOW; wait 500ms; blue LOW and red HIGH; wait 500ms.</i></p>
					<button  type="button" title="Facilino code" onclick="showHideElement('exercise5b');" class="btn-primary display-4"><span class="mbri-extension mbr-iconfont mbr-iconfont-btn"></span></button>
					<div><iframe id="exercise5b" style="display:block" frameBorder="0" src="" onload="resizeIFrameToFitContent(this);"></iframe></div>
					<iframe width="725" height="453" src="https://www.tinkercad.com/embed/b8wjPv83xdC" frameborder="0" marginwidth="0" marginheight="0" scrolling="no"></iframe>
					</li>

				</ol>
            </div>
        </div>
    </div>
</section>

<section class="mbr-section article content9 cid-qYh0wTdIZC">
    <div class="container">
        <div class="inner-container" style="width: 100%;">
            <hr class="line" style="width: 25%;">
            <div class="section-text align-center mbr-fonts-style display-5">Intermediate Exercises</div>
            <hr class="line" style="width: 25%;">
        </div>
        </div>
</section>

<section class="mbr-section article content11 cid-qYh0wTJYr3" id="content11-53">
    <div class="container">
        <div class="media-container-row">
            <div class="mbr-text counter-container col-12 col-md-8 mbr-fonts-style display-7">
                <ol>
					<li><strong>Blinking LEDs with varying frequency</strong><p>Following the ideas of previous exercises make the LEDs wait an amount of time between 100ms and 1000ms depending on the potentiometer position (connected to pin A0).</p><strong>Hint: </strong><p><i>Use the 'map' instruction to map the value returned by the 'ReadAnalog' instruction. This is a value between 0 and 4095 (in the Wemos D1 R32) or 0 and 1023 (in Arduino Uno) that should be mapped to 100 and 1000. Use that value as the input of the 'Wait' instruction.</i></p>
					<button  type="button" title="Facilino code" onclick="showHideElement('exercise1i');" class="btn-primary display-4"><span class="mbri-extension mbr-iconfont mbr-iconfont-btn"></span></button>
					<div><iframe id="exercise1i" style="display:block" frameBorder="0" src="" onload="resizeIFrameToFitContent(this);"></iframe></div>
					<iframe width="725" height="453" src="https://www.tinkercad.com/embed/kJVoMU1MvVK" frameborder="0" marginwidth="0" marginheight="0" scrolling="no"></iframe>
					</li>
					<li><strong>Blinking LEDs with increasing frequency</strong><p>Following the ideas of previous exercise, now increase the blinking frequency (with a max. frequency of 10Hz) every time we push the push-button connected to pin D2.</p><strong>Hint: </strong><p><i>Now, we need a variable </i>BlinkTime<i> to store the actual frequency, initalized with 500. If the push-button D2 is LOW, then decrease the value of the variable </i>BlinkTime<i> by substracting 50 to it (use the Math arithmetic instruction). We need to check that the variable is at least 50, thus we need to store the maximum between the resulting arithmetic operation and 50.</i></p>
					<button  type="button" title="Facilino code" onclick="showHideElement('exercise2i');" class="btn-primary display-4"><span class="mbri-extension mbr-iconfont mbr-iconfont-btn"></span></button>
					<div><iframe id="exercise2i" style="display:block" frameBorder="0" src="" onload="resizeIFrameToFitContent(this);"></iframe></div>
					<iframe width="725" height="453" src="https://www.tinkercad.com/embed/aGOMvthyPQu" frameborder="0" marginwidth="0" marginheight="0" scrolling="no"></iframe>
					</li>
					<li><strong>Is it blinking?</strong><p>Now, make the red LED blink so fast fast that you won't notice that it is blinking. Depending on the time the LED is HIGH compared to the time the LED is LOW, you can dimm the light intensity.</p><strong>Hint: </strong><p><i>The key now is to have different delays for the HIGH time and for the LOW time, but they have to be as small as possible. This is indeed the principle of <a onclick="onHomeFile('analog_output.html')" style="color:#1ec6c6">PWM signals</a>.</i></p>
					<button  type="button" title="Facilino code" onclick="showHideElement('exercise3i');" class="btn-primary display-4"><span class="mbri-extension mbr-iconfont mbr-iconfont-btn"></span></button>
					<div><iframe id="exercise3i" style="display:block" frameBorder="0" src="" onload="resizeIFrameToFitContent(this);"></iframe></div>
					<iframe width="725" height="453" src="https://www.tinkercad.com/embed/jZtlIohKwyF" frameborder="0" marginwidth="0" marginheight="0" scrolling="no"></iframe>
					</li>
				</ol>
            </div>
        </div>
    </div>
</section>

<div class="mbr-section-btn text-center"><a onclick="onExercises();" class="btn btn-primary display-4">&#8592;&nbsp;Back</a></div>
<script>
  var sch=document.getElementById('schematic');
  sch.src='tutorial/assets/images/Electronics/multisensor'+window.board+'_bb.png';
  var sch_modules=document.getElementById('schematic_modules');
  sch_modules.src='tutorial/assets/images/Electronics/multisensor'+window.board+'_pot_LEDs_pushbutton_modules_bb.png';
  var sch_proto=document.getElementById('schematic_proto');
  sch_proto.src='tutorial/assets/images/Electronics/multisensor'+window.board+'_pot_LEDs_pushbutton_bb.png';
  if (window.FacilinoProcessor==='WEMOS_D1R32_SHIELD')
  {
	$('#exercise1b').attr('src','facilino.php?action=view_example&embbeded&id=8');
	$('#exercise2b').attr('src','facilino.php?action=view_example&embbeded&id=10');
	$('#exercise3b').attr('src','facilino.php?action=view_example&embbeded&id=12');
	$('#exercise4b').attr('src','facilino.php?action=view_example&embbeded&id=14');
	$('#exercise5b').attr('src','facilino.php?action=view_example&embbeded&id=16');
	$('#exercise1i').attr('src','facilino.php?action=view_example&embbeded&id=18');
	$('#exercise2i').attr('src','facilino.php?action=view_example&embbeded&id=20');
	$('#exercise3i').attr('src','facilino.php?action=view_example&embbeded&id=22');
  }
  else
  {
	$('#exercise1b').attr('src','facilino.php?action=view_example&embbeded&id=9');
	$('#exercise2b').attr('src','facilino.php?action=view_example&embbeded&id=11');
	$('#exercise3b').attr('src','facilino.php?action=view_example&embbeded&id=13');
	$('#exercise4b').attr('src','facilino.php?action=view_example&embbeded&id=15');
	$('#exercise5b').attr('src','facilino.php?action=view_example&embbeded&id=17');
	$('#exercise1i').attr('src','facilino.php?action=view_example&embbeded&id=19');
	$('#exercise2i').attr('src','facilino.php?action=view_example&embbeded&id=21');
	$('#exercise3i').attr('src','facilino.php?action=view_example&embbeded&id=23');
  }
  
$('#exercise1b').on("load", function() {
    showHideElement('exercise1b');
});

$('#exercise2b').on("load", function() {
    showHideElement('exercise2b');
});

$('#exercise3b').on("load", function() {
    showHideElement('exercise3b');
});

$('#exercise4b').on("load", function() {
    showHideElement('exercise4b');
});

$('#exercise5b').on("load", function() {
    showHideElement('exercise5b');
});

$('#exercise1i').on("load", function() {
    showHideElement('exercise1i');
});

$('#exercise2i').on("load", function() {
    showHideElement('exercise2i');
});

$('#exercise3i').on("load", function() {
    showHideElement('exercise3i');
});
</script>
